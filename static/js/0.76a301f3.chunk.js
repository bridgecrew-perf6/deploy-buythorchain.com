(this["webpackJsonpcrosschain.quest"]=this["webpackJsonpcrosschain.quest"]||[]).push([[0],{2133:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return a}));var r={average:.67,fast:1,fastest:1.5},i=function(t){var e,n=t.inboundData,r=t.chain,i=n.find((function(t){return t.chain===r}));return Number(null!==(e=null===i||void 0===i?void 0:i.gas_rate)&&void 0!==e?e:0)},a=function(t){var e=t.inboundData,n=t.chain,a=t.feeOptionType;return i({inboundData:e,chain:n})*r[a]}},2134:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(146),a=n(22),o=n(130),c=n(2133),s=function(){var t=Object(i.b)(),e=Object(i.c)((function(t){return t.app})).feeOptionType,n=Object(i.c)((function(t){return t.wallet})).wallet,s=Object(i.c)((function(t){return t.midgard})).inboundData,u=Object(r.useCallback)((function(e){t(o.getWalletByChain(e))}),[t]),l=Object(r.useCallback)((function(){t(o.loadAllWallets())}),[t]);return{getMaxBalance:Object(r.useCallback)((function(t){if(!(null===n||void 0===n?void 0:n[t.L1Chain]))return a.Amount.fromAssetAmount(0,8);var r=Object(c.b)({inboundData:s,chain:t.L1Chain,feeOptionType:e}),i=a.NetworkFee.getNetworkFeeByAsset({asset:t,gasRate:r,direction:"inbound"}),o=Object(a.getAssetBalance)(t,n).amount,u=t.isGasAsset()?o.sub(i.mul(1.5).amount):o;return u.gt(0)?u:a.Amount.fromAssetAmount(0,t.decimal)}),[n,e,s]),reloadAllBalance:l,reloadBalanceByChain:u,wallet:n}}},2135:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(22),a=n(255),o=n(158),c=n(2133),s=function(t){var e=t.inputAsset,n=t.outputAsset,s=Object(a.a)().feeOptionType,u=Object(o.a)(),l=u.inboundData,d=u.pools,p=Object(r.useMemo)((function(){var t=Object(c.b)({inboundData:l,chain:e.L1Chain,feeOptionType:s});return i.NetworkFee.getNetworkFeeByAsset({asset:e,gasRate:t,direction:"inbound"})}),[e,l,s]),f=Object(r.useMemo)((function(){if(!n)return null;var t=Object(c.a)({inboundData:l,chain:n.L1Chain});return i.NetworkFee.getNetworkFeeByAsset({asset:n,gasRate:t,direction:"outbound"})}),[n,l]),b=Object(r.useMemo)((function(){if(!f)return p;var t=new i.AssetAmount(e,i.Amount.fromAssetAmount(f.totalPriceIn(e,d).price,e.decimal));return p.asset.eq(e)?p.add(t):new i.AssetAmount(e,i.Amount.fromAssetAmount(p.totalPriceIn(e,d).price,e.decimal)).add(t)}),[e,p,f,d]),m=Object(r.useMemo)((function(){return b.totalPriceIn(i.Asset.USD(),d)}),[b,d]);return{totalFee:b,inboundFee:p,outboundFee:f,totalFeeInUSD:m}}},2136:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),i=n(909),a=n(158),o=n(145),c=function(){var t=Object(a.a)(),e=t.addNewTxTracker,n=t.updateTxTracker,c=t.clearTxTrackers,s=t.processSubmittedTx;return{submitTransaction:Object(r.useCallback)((function(t){var n=t.type,r=t.submitTx,a=Object(i.a)();return e({uuid:a,type:n,status:o.b.Submitting,submitTx:r,action:null,refunded:null}),a}),[e]),pollTransaction:Object(r.useCallback)((function(t){var e=t.uuid,r=t.submitTx,i=t.type;n({uuid:e,txTracker:{status:o.b.Pending,submitTx:r}}),s({submitTx:r,type:i})}),[n,s]),clearTxTrackers:c,setTxFailed:Object(r.useCallback)((function(t){n({uuid:t,txTracker:{status:o.b.Failed}})}),[n])}}},2137:function(t,e,n){"use strict";var r=n(753),i=n(350),a=n(63),o=n(312),c=n(750),s=n(751),u=n(752),l=n(2138),d=Symbol("encodeFragmentIdentifier");function p(t){if("string"!==typeof t||1!==t.length)throw new TypeError("arrayFormatSeparator must be single character string")}function f(t,e){return e.encode?e.strict?c(t):encodeURIComponent(t):t}function b(t,e){return e.decode?s(t):t}function m(t){return Array.isArray(t)?t.sort():"object"===typeof t?m(Object.keys(t)).sort((function(t,e){return Number(t)-Number(e)})).map((function(e){return t[e]})):t}function j(t){var e=t.indexOf("#");return-1!==e&&(t=t.slice(0,e)),t}function O(t){var e=(t=j(t)).indexOf("?");return-1===e?"":t.slice(e+1)}function v(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&"string"===typeof t&&""!==t.trim()?t=Number(t):!e.parseBooleans||null===t||"true"!==t.toLowerCase()&&"false"!==t.toLowerCase()||(t="true"===t.toLowerCase()),t}function h(t,e){p((e=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},e)).arrayFormatSeparator);var n=function(t){var e;switch(t.arrayFormat){case"index":return function(t,n,r){e=/\[(\d*)\]$/.exec(t),t=t.replace(/\[\d*\]$/,""),e?(void 0===r[t]&&(r[t]={}),r[t][e[1]]=n):r[t]=n};case"bracket":return function(t,n,r){e=/(\[\])$/.exec(t),t=t.replace(/\[\]$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"colon-list-separator":return function(t,n,r){e=/(:list)$/.exec(t),t=t.replace(/:list$/,""),e?void 0!==r[t]?r[t]=[].concat(r[t],n):r[t]=[n]:r[t]=n};case"comma":case"separator":return function(e,n,r){var i="string"===typeof n&&n.includes(t.arrayFormatSeparator),a="string"===typeof n&&!i&&b(n,t).includes(t.arrayFormatSeparator);n=a?b(n,t):n;var o=i||a?n.split(t.arrayFormatSeparator).map((function(e){return b(e,t)})):null===n?n:b(n,t);r[e]=o};case"bracket-separator":return function(e,n,r){var i=/(\[\])$/.test(e);if(e=e.replace(/\[\]$/,""),i){var a=null===n?[]:n.split(t.arrayFormatSeparator).map((function(e){return b(e,t)}));void 0!==r[e]?r[e]=[].concat(r[e],a):r[e]=a}else r[e]=n?b(n,t):n};default:return function(t,e,n){void 0!==n[t]?n[t]=[].concat(n[t],e):n[t]=e}}}(e),r=Object.create(null);if("string"!==typeof t)return r;if(!(t=t.trim().replace(/^[?#&]/,"")))return r;var o,c=a(t.split("&"));try{for(c.s();!(o=c.n()).done;){var s=o.value;if(""!==s){var l=u(e.decode?s.replace(/\+/g," "):s,"="),d=i(l,2),f=d[0],j=d[1];j=void 0===j?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?j:b(j,e),n(b(f,e),j,r)}}}catch(C){c.e(C)}finally{c.f()}for(var O=0,h=Object.keys(r);O<h.length;O++){var g=h[O],y=r[g];if("object"===typeof y&&null!==y)for(var x=0,A=Object.keys(y);x<A.length;x++){var w=A[x];y[w]=v(y[w],e)}else r[g]=v(y,e)}return!1===e.sort?r:(!0===e.sort?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((function(t,e){var n=r[e];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?t[e]=m(n):t[e]=n,t}),Object.create(null))}e.extract=O,e.parse=h,e.stringify=function(t,e){if(!t)return"";p((e=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},e)).arrayFormatSeparator);for(var n=function(n){return e.skipNull&&(null===(r=t[n])||void 0===r)||e.skipEmptyString&&""===t[n];var r},r=function(t){switch(t.arrayFormat){case"index":return function(e){return function(n,r){var i=n.length;return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[f(e,t),"[",i,"]"].join("")]:[[f(e,t),"[",f(i,t),"]=",f(r,t)].join("")])}};case"bracket":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[f(e,t),"[]"].join("")]:[[f(e,t),"[]=",f(r,t)].join("")])}};case"colon-list-separator":return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[[f(e,t),":list="].join("")]:[[f(e,t),":list=",f(r,t)].join("")])}};case"comma":case"separator":case"bracket-separator":var e="bracket-separator"===t.arrayFormat?"[]=":"=";return function(n){return function(r,i){return void 0===i||t.skipNull&&null===i||t.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[f(n,t),e,f(i,t)].join("")]:[[r,f(i,t)].join(t.arrayFormatSeparator)])}};default:return function(e){return function(n,r){return void 0===r||t.skipNull&&null===r||t.skipEmptyString&&""===r?n:[].concat(o(n),null===r?[f(e,t)]:[[f(e,t),"=",f(r,t)].join("")])}}}}(e),i={},a=0,c=Object.keys(t);a<c.length;a++){var s=c[a];n(s)||(i[s]=t[s])}var u=Object.keys(i);return!1!==e.sort&&u.sort(e.sort),u.map((function(n){var i=t[n];return void 0===i?"":null===i?f(n,e):Array.isArray(i)?0===i.length&&"bracket-separator"===e.arrayFormat?f(n,e)+"[]":i.reduce(r(n),[]).join("&"):f(n,e)+"="+f(i,e)})).filter((function(t){return t.length>0})).join("&")},e.parseUrl=function(t,e){e=Object.assign({decode:!0},e);var n=u(t,"#"),r=i(n,2),a=r[0],o=r[1];return Object.assign({url:a.split("?")[0]||"",query:h(O(t),e)},e&&e.parseFragmentIdentifier&&o?{fragmentIdentifier:b(o,e)}:{})},e.stringifyUrl=function(t,n){n=Object.assign(r({encode:!0,strict:!0},d,!0),n);var i=j(t.url).split("?")[0]||"",a=e.extract(t.url),o=e.parse(a,{sort:!1}),c=Object.assign(o,t.query),s=e.stringify(c,n);s&&(s="?".concat(s));var u=function(t){var e="",n=t.indexOf("#");return-1!==n&&(e=t.slice(n)),e}(t.url);return t.fragmentIdentifier&&(u="#".concat(n[d]?f(t.fragmentIdentifier,n):t.fragmentIdentifier)),"".concat(i).concat(s).concat(u)},e.pick=function(t,n,i){i=Object.assign(r({parseFragmentIdentifier:!0},d,!1),i);var a=e.parseUrl(t,i),o=a.url,c=a.query,s=a.fragmentIdentifier;return e.stringifyUrl({url:o,query:l(c,n),fragmentIdentifier:s},i)},e.exclude=function(t,n,r){var i=Array.isArray(n)?function(t){return!n.includes(t)}:function(t,e){return!n(t,e)};return e.pick(t,i,r)}},2138:function(t,e,n){"use strict";t.exports=function(t,e){for(var n={},r=Object.keys(t),i=Array.isArray(e),a=0;a<r.length;a++){var o=r[a],c=t[o];(i?-1!==e.indexOf(o):e(o,c,t))&&(n[o]=c)}return n}},2140:function(t,e,n){"use strict";n.r(e);var r,i=n(84),a=n(10),o=n(2),c=n.n(o),s=n(9),u=n(26),l=n(0),d=n.n(l),p=n(96),f=n(6),b=n(349),m=n(22),j=n(7),O=n(3),v=n(203);function h(){var t=window;return{width:t.innerWidth,height:t.innerHeight}}var g,y,x,A,w=j.d.canvas(r||(r=Object(a.a)(["\n  position: relative;\n  pointer-events: none;\n"]))),C=n(1),k=function(t){var e=Object(l.useRef)(null),n=d.a.useRef(null),r=function(){var t=Object(l.useState)(h()),e=Object(u.a)(t,2),n=e[0],r=e[1];return Object(l.useEffect)((function(){function t(){r(h())}return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[]),n}().height,i=Object(l.useState)(0),a=Object(u.a)(i,2),o=a[0],c=a[1],s=t.startAnimation,p=Object(l.useState)(!1),f=Object(u.a)(p,2),b=f[0],m=f[1],j=Object(l.useMemo)((function(){for(var t=[],e=0;e<40;e++)t.push({radius:150*Math.random(),position:200*Math.random(),width:20*Math.random()});return t}),[]),O=495,v=Object(l.useCallback)((function(t){if(e.current){var n=.5;t.fillStyle=s?"#14151720":"#141517",b||m(!0),t.fillRect(0,0,500,500),t.beginPath(),t.lineWidth=17.5;var r=t.createLinearGradient(200,250,500,250);if(r.addColorStop(0,"#53ccf9"),r.addColorStop(.5,"#71f6AB"),r.addColorStop(1,"white"),t.strokeStyle=r,t.arc(250,247.5,125,0,2*Math.PI),t.stroke(),t.beginPath(),t.lineTo(225,190.5),t.lineTo(225,297.5),t.moveTo(230,198.5),t.lineTo(275,222.5),t.lineTo(255,247.5),t.lineTo(275,292.5),t.lineTo(275,297.5),t.stroke(),t.lineCap="round",s){t.lineCap="butt";for(var i=0;i<j.length;i++)g(t,r,n,i%2===0?-1*o+j[i].position:o+j[i].position,(275+j[i].radius)*n,j[i].width)}t.lineCap="butt"}}),[o,j,s,m,b]),g=function(t,e,n,r,i,a){t.lineCap="round",t.strokeStyle=e,t.beginPath(),t.lineWidth=n*a/3,t.arc(500*n,O*n,i,r/25,r/25+Math.PI/30),t.stroke()},y=Object(l.useCallback)((function(){if(e.current){n.current=e.current.getContext("2d");var t=n.current;v(t),setTimeout((function(){c(o+1)}),1e3/30)}}),[o,v]);return Object(l.useEffect)((function(){requestAnimationFrame(y)}),[y]),r>700?Object(C.jsx)(w,{ref:e,width:500,height:500}):Object(C.jsx)(w,{ref:e,width:500,height:440})},S=n(255),T=n(158),F=n(145),I=n(174),N=n(718),M=n(2137),_=n.n(M),P=function(){var t=_.a.parse(Object(p.g)().search);if(t.refs)try{return JSON.parse(Object(N.decode)(t.refs,v.a))}catch(e){return null}return null},B=n(85),R=n(2134),L=n(377),E=n(2135),U=n(2136),W=n(280),D=n(295),q=n(175),V=n(88),$=n(754),H=n(256),z=n(62),J=n(538),G=Object(j.d)(J.a).withConfig({displayName:"PanelViewstyle__Container",componentId:"sc-11dn53l-0"})(["display:flex;flex-direction:column;justify-content:center;background:",";width:90vw;max-width:500px;margin:auto auto auto auto;padding-top:0px;padding-right:auto;padding-left:auto;border-radius:10px;border:none;align-items:center;"],Object(O.palette)("background",5)),X=j.d.div.withConfig({displayName:"PanelViewstyle__ContentPanel",componentId:"sc-11dn53l-1"})(["display:flex;flex-direction:column;width:96%;align-items:center;padding:16px 8px 16px 8px;",""],z.a.sm(g||(g=Object(a.a)(["\n    padding: 16px 12px 4px 12px;\n  "])))),K=(j.d.div.withConfig({displayName:"PanelViewstyle__HeaderContent",componentId:"sc-11dn53l-2"})(["display:flex;flex-direction:row;justify-content:center;align-items:center;flex:1;padding:0 10px;"]),j.d.div.withConfig({displayName:"PanelViewstyle__HeaderMenu",componentId:"sc-11dn53l-3"})(["display:flex;align-items:center;"]),j.d.div.withConfig({displayName:"PanelViewstyle__HeaderActions",componentId:"sc-11dn53l-4"})(["display:flex;align-items:center;"]),j.d.div.withConfig({displayName:"PanelViewstyle__PoolDetailLink",componentId:"sc-11dn53l-5"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;color:",";"],Object(O.palette)("text",0)),j.d.div.withConfig({displayName:"PanelViewstyle__MenuIconWrapper",componentId:"sc-11dn53l-6"})(["display:flex;justify-content:center;align-items:center;width:20px;height:20px;font-weight:",";svg{color:",";}"],(function(t){return t.selected?"bold":"normal"}),(function(t){return t.selected?Object(O.palette)("primary",0):Object(O.palette)("text",0)})),function(t){var e=t.meta,n=t.children;return Object(C.jsxs)(G,{children:[Object(C.jsx)(H.a,{title:e,content:e}),Object(C.jsx)(b.ContentTitle,{children:void 0}),Object(C.jsx)(X,{children:n})]})}),Q=j.d.div.withConfig({displayName:"Swapstyle__ToolContainer",componentId:"sc-12or3kc-0"})(["display:box;margin-top:13px;margin-bottom:3px;height:40px;"]),Y=j.d.a.withConfig({displayName:"Swapstyle__WalletSetupLink",componentId:"sc-12or3kc-1"})(["text-transform:lowercase;color:#71f6ab;margin-top:1.5vw;"]),Z=(j.d.div.withConfig({displayName:"Swapstyle__SliderWrapper",componentId:"sc-12or3kc-2"})(["margin:auto;width:95%;justify-content:center;align-items:center;"]),j.d.div.withConfig({displayName:"Swapstyle__SwitchPair",componentId:"sc-12or3kc-3"})(["display:flex;justify-content:center;align-items:center;flex:1;svg{width:24px;height:24px;color:",";transform:rotate(90deg);}"],Object(O.palette)("background",8))),tt=j.d.div.withConfig({displayName:"Swapstyle__ConfirmButtonContainer",componentId:"sc-12or3kc-4"})(["display:flex;justify-content:center;align-items:center;width:100%;padding:0 1%;margin-top:5vh;margin-bottom:2vh;button{flex:1;}"]),et=j.d.div.withConfig({displayName:"Swapstyle__ConfirmModalContent",componentId:"sc-12or3kc-5"})(["display:flex;flex-direction:column;padding:10px;"]),nt=j.d.div.withConfig({displayName:"Swapstyle__RecipientAddrWrapper",componentId:"sc-12or3kc-6"})(["margin-top:14px;"]),rt=j.d.div.withConfig({displayName:"Swapstyle__SwapInfo",componentId:"sc-12or3kc-7"})(["display:flex;flex-direction:column;width:100%;padding:8px;margin-top:14px;border:1px solid ",";border-radius:4px;"],Object(O.palette)("gray",0)),it=Object(j.d)(b.FancyButton).withConfig({displayName:"Swapstyle__ApproveBtn",componentId:"sc-12or3kc-8"})(["margin-right:8px;"]),at=(Object(j.d)(b.Panel).withConfig({displayName:"Swapstyle__Container",componentId:"sc-12or3kc-9"})(["display:flex;flex-direction:column;justify-content:center;background:transparent;width:90vw;max-width:500px;margin:auto auto auto auto;padding-top:0px;padding-right:auto;padding-left:auto;border-radius:10px;border:none;align-items:center;"]),Object(j.d)(b.Panel).withConfig({displayName:"Swapstyle__AnimationContainer",componentId:"sc-12or3kc-10"})(["display:flex;flex-direction:column;justify-content:center;background:transparent;width:90vw;max-width:500px;margin:auto auto auto auto;padding-top:0px;padding-right:auto;padding-left:auto;border-radius:10px;border:none;align-items:center;position:fixed;top:8vh;left:50%;transform:translateX(-50%);"])),ot=function(){var t=Object(s.a)(c.a.mark((function t(e){var n,r,i,a,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e&&2===e.split("_").length){t.next=2;break}return t.abrupt("return",null);case 2:if(i=null===(n=e.split("_"))||void 0===n?void 0:n[0],a=null===(r=e.split("_"))||void 0===r?void 0:r[1],i&&a){t.next=6;break}return t.abrupt("return",null);case 6:if(o=m.Asset.decodeFromURL(i),s=m.Asset.decodeFromURL(a),o&&s){t.next=10;break}return t.abrupt("return",null);case 10:return t.next=12,o.setDecimal();case 12:return t.next=14,s.setDecimal();case 14:return t.abrupt("return",{inputAsset:o,outputAsset:s});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ct=function(t){if(t.inputAsset.synth||t.outputAsset.synth){if(t.synthType===m.SynthType.MINT)return F.c.Mint;if(t.synthType===m.SynthType.REDEEM)return F.c.Redeem}return F.c.Swap},st=j.d.div(y||(y=Object(a.a)(["\n  background: ",";\n  border-radius: 4px;\n  height: 145px;\n"])),Object(O.palette)("background",6)),ut=j.d.div(x||(x=Object(a.a)(["\n  background: ",";\n  border-radius: 4px;\n  height: 145px;\n"])),Object(O.palette)("background",6)),lt=j.d.div(A||(A=Object(a.a)(["\n  width: 90%;\n  margin: auto;\n"]))),dt=function(t){var e,n=t.inputAsset,r=t.outputAsset,a=Object(p.f)(),o=Object(R.a)(),d=o.wallet,j=o.getMaxBalance,O=Object(T.a)(),h=O.pools,g=O.poolLoading,y=O.inboundData,x=Object(S.a)(),A=x.slippageTolerance,w=x.affiliates,N=Object(L.a)().haltedChains,M=Object(I.a)(),_=M.isWalletLoading,P=M.setIsConnectWalletModalOpen,W=Object(l.useState)(!1),H=Object(u.a)(W,2),z=H[0],J=H[1],G=Object(l.useMemo)((function(){return Object(m.hasConnectedWallet)(d)}),[d]),X=Object(l.useCallback)((function(){G||_||P(!0)}),[G,_,P]),ot=Object(l.useMemo)((function(){return null===w||void 0===w?void 0:w.filter((function(t){return B.a.validateAddress({chain:f.l.THORChain,address:t})}))}),[w]),dt=Object(U.a)(),pt=dt.submitTransaction,ft=dt.pollTransaction,bt=dt.setTxFailed,mt=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=Object(T.a)().approveStatus,r=Object(I.a)().wallet,i=Object(l.useState)(!e||null),a=Object(u.a)(i,2),o=a[0],d=a[1],p=Object(l.useMemo)((function(){return Object(m.hasConnectedWallet)(r)}),[r]);return Object(l.useEffect)((function(){e&&p?function(){var e=Object(s.a)(c.a.mark((function e(){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===n||void 0===n?void 0:n[t.toString()])===F.b.Success&&d(!0),e.next=3,B.a.isAssetApproved(t);case 3:r=e.sent,d(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()():d(!0)}),[t,n,e,p]),{assetApproveStatus:Object(l.useMemo)((function(){return null===n||void 0===n?void 0:n[t.toString()]}),[n,t]),isApproved:o}}(n,!!d),jt=mt.isApproved,Ot=mt.assetApproveStatus,vt=Object(l.useMemo)((function(){var t,e,i=y.find((function(t){return t.chain===n.chain})),a=y.find((function(t){return t.chain===r.chain})),o=N[n.L1Chain],c=N[r.L1Chain];return null!==(t=null===i||void 0===i?void 0:i.halted)&&void 0!==t&&t||null!==(e=null===a||void 0===a?void 0:a.halted)&&void 0!==e&&e||o||c}),[y,N,n,r]),ht=Object(E.a)({inputAsset:n,outputAsset:r}),gt=ht.inboundFee,yt=ht.outboundFee,xt=ht.totalFee,At=Object(l.useMemo)((function(){return Object(m.hasWalletConnected)({wallet:d,inputAssets:[n]})}),[d,n]),wt=Object(l.useMemo)((function(){return h.filter((function(t){return"available"===t.detail.status}))}),[h]),Ct=Object(l.useMemo)((function(){var t=wt.map((function(t){return t.asset}));return t.push(m.Asset.RUNE()),t}),[wt]),kt=Object(l.useMemo)((function(){return wt.map((function(t){var e=t.asset,n=new m.Asset(e.chain,e.symbol,!0);return n.synth=!0,n}))}),[wt]),St=Object(l.useMemo)((function(){return q.a?[].concat(Object(i.a)(Ct),Object(i.a)(kt)):Ct}),[Ct,kt]),Tt=Object(l.useState)(m.Amount.fromAssetAmount(0,8)),Ft=Object(u.a)(Tt,2),It=Ft[0],Nt=Ft[1],Mt=Object(l.useState)(0),_t=Object(u.a)(Mt,2),Pt=_t[0],Bt=_t[1],Rt=Object(l.useState)(""),Lt=Object(u.a)(Rt,2),Et=Lt[0],Ut=Lt[1],Wt=Object(l.useState)(""),Dt=Object(u.a)(Wt,2),qt=Dt[0],Vt=Dt[1],$t=Object(l.useState)(!1),Ht=Object(u.a)($t,2),zt=Ht[0],Jt=Ht[1],Gt=Object(l.useState)(!1),Xt=Object(u.a)(Gt,2),Kt=Xt[0],Qt=Xt[1],Yt=Object(l.useMemo)((function(){return n.isLTC()||n.isBTC()?new m.Amount(0,m.AmountType.ASSET_AMOUNT,4):It.mul(v.b)}),[It,n]),Zt=Object(l.useMemo)((function(){return n.isLTC()||n.isBTC()?xt:xt.add(new m.AssetAmount(n,Yt)).totalPriceIn(m.Asset.USD(),wt)}),[Yt,n,wt,xt]),te=Object(l.useMemo)((function(){return B.a.validateAddress({chain:r.L1Chain,address:qt})}),[r,qt]),ee=Object(l.useMemo)((function(){if(g)return null;try{var t=new m.AssetAmount(n,It),e=new m.AssetAmount(n,m.Amount.fromAssetAmount(gt.totalPriceIn(n,wt).price,n.decimal)),i=yt?new m.AssetAmount(r,m.Amount.fromAssetAmount(yt.totalPriceIn(r,wt).price,r.decimal)):new m.AssetAmount(r,m.Amount.fromAssetAmount(0,r.decimal));return new m.Swap({inputAsset:n,outputAsset:r,pools:wt,amount:t,slip:A,fee:{inboundFee:e,outboundFee:i}})}catch(a){return console.log(a),null}}),[n,r,wt,It,A,g,gt,yt]),ne=Object(l.useMemo)((function(){return ee?ee.outputAmountAfterFee.amount:m.Amount.fromAssetAmount(0,8)}),[ee]),re=Object(l.useMemo)((function(){return ee?ee.slip:new m.Percent(0)}),[ee]),ie=Object(l.useMemo)((function(){return ee?ee.minOutputAmount:m.Amount.fromAssetAmount(0,8)}),[ee]),ae=Object(l.useMemo)((function(){return new m.Price({baseAsset:n,pools:wt,priceAmount:It})}),[n,It,wt]),oe=Object(l.useMemo)((function(){return new m.Price({baseAsset:r,pools:wt,priceAmount:ne})}),[r,ne,wt]);Object(l.useEffect)((function(){if(d){var t=Object(m.getWalletAddressByChain)(d,r.L1Chain);Vt(t||""),Ut(t||"")}}),[d,r]);var ce=Object(l.useMemo)((function(){return j(n)}),[n,j]),se=Object(l.useMemo)((function(){return d?Object(m.getAssetBalance)(n,d):m.Amount.fromAssetAmount(Math.pow(10,3),8)}),[n,d]),ue=Object(l.useCallback)((function(t){a.push(Object(V.n)(t,r))}),[a,r]),le=Object(l.useCallback)((function(t){a.push(Object(V.n)(n,t))}),[a,n]),de=Object(l.useCallback)((function(){a.push(Object(V.n)(r,n))}),[a,n,r]),pe=Object(l.useCallback)((function(t){t.gt(ce)?(Nt(ce),Bt(100)):(Nt(t),Bt(t.div(ce).mul(100).assetAmount.toNumber()))}),[ce]),fe=Object(l.useCallback)((function(t){Bt(t);var e=ce.mul(t).div(100);Nt(e)}),[ce]),be=Object(l.useCallback)((function(){fe(100)}),[fe]),me=Object(l.useCallback)(Object(s.a)(c.a.mark((function t(){var e,n,r,i;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Jt(!1),!d||!ee){t.next=17;break}return e=ct(ee),n=pt({type:e,submitTx:{inAssets:[{asset:ee.inputAsset.toString(),amount:ee.inputAmount.toSignificant(6)}],outAssets:[{asset:ee.outputAsset.toString(),amount:ee.outputAmountAfterFee.toSignificant(6)}]}}),t.prev=4,t.next=7,B.a.swap(ee,qt,ot);case 7:r=t.sent,ft({type:e,uuid:n,submitTx:{inAssets:[{asset:ee.inputAsset.toString(),amount:ee.inputAmount.toSignificant(6)}],outAssets:[{asset:ee.outputAsset.toString(),amount:ee.outputAmountAfterFee.toSignificant(6)}],txID:r}}),t.next=17;break;case 11:t.prev=11,t.t0=t.catch(4),bt(n),a=null===t.t0||void 0===t.t0?void 0:t.t0.toString(),i=a.includes("No utxos to send")?"Please wait a bit until UTXOs are confirmed and Try again.":a,Object(b.Notification)({type:"error",message:"Submit Transaction Failed.",description:i,duration:20}),console.log(t.t0);case 17:case"end":return t.stop()}var a}),t,null,[[4,11]])}))),[d,ee,qt,ot,pt,ft,bt]),je=Object(l.useCallback)((function(){Jt(!1)}),[]),Oe=Object(l.useCallback)(Object(s.a)(c.a.mark((function t(){var e,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Qt(!1),!d){t.next=16;break}return e=pt({type:F.c.Approve,submitTx:{inAssets:[{asset:n.toString(),amount:"0"}]}}),t.prev=3,t.next=6,B.a.approveAsset(n);case 6:r=t.sent,console.log("approve txhash",r),r&&ft({type:F.c.Swap,uuid:e,submitTx:{inAssets:[{asset:n.toString(),amount:"0"}],txID:r}}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),bt(e),Object(b.Notification)({type:"open",message:"Approve Failed.",duration:20}),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,11]])}))),[n,d,bt,pt,ft]),ve=Object(l.useCallback)((function(){if(At&&ee){if(ee.hasInSufficientFee)return void Object(b.Notification)({type:"info",message:"Swap Insufficient Fee",description:"Input amount is not enough to cover the fee"});if(!te)return void Object(b.Notification)({type:"error",message:"Invalid Recipient Address",description:"Recipient address should be a valid address."});Jt(!0)}else Object(b.Notification)({type:"info",message:"Wallet Not Found",description:"Please connect wallet"})}),[te,At,ee]),he=Object(l.useCallback)((function(){At&&ee?Qt(!0):Object(b.Notification)({type:"info",message:"Wallet Not Found",description:"Please connect wallet"})}),[At,ee]),ge=Object(l.useMemo)((function(){var t;return vt&&!q.b?{valid:!1,msg:"Swap not available"}:null!==(t=null===ee||void 0===ee?void 0:ee.isValid())&&void 0!==t?t:{valid:!1}}),[ee,vt]),ye=Object(l.useMemo)((function(){var t;return null===(t=null===ee||void 0===ee?void 0:ee.isSlipValid())||void 0===t||t}),[ee]),xe=Object(l.useMemo)((function(){var t;return ge.valid||It.eq(0)?G?n.synth&&r.synth?"Buy RUNE":n.synth?"Redeem":r.synth?"Mint":"Buy RUNE":"Connect Wallet":null!==(t=null===ge||void 0===ge?void 0:ge.msg)&&void 0!==t?t:"Buy RUNE"}),[ge.valid,null===ge||void 0===ge?void 0:ge.msg,It,G,n.synth,r.synth]),Ae=Object(l.useMemo)((function(){var t,e,i;return Object(C.jsxs)(et,{children:[Object(C.jsx)(b.Information,{title:"Send",description:"".concat(It.toSignificant(6)," ").concat(n.name.toUpperCase())}),Object(C.jsx)(b.Information,{title:"Recipient",description:"".concat(ne.toSignificant(6)," ").concat(r.name.toUpperCase())}),Object(C.jsx)("br",{}),Object(C.jsx)(b.Information,{title:"Recipient Address",description:Object(D.b)(qt),error:!te}),Object(C.jsx)("br",{}),Object(C.jsx)(b.Information,{title:"Slip",description:re.toFixed(3),error:!ye,tooltip:$.b}),Object(C.jsx)(b.Information,{title:"Min Received",description:"".concat(ie.toSignificant(6)," ").concat(r.name.toUpperCase()),tooltip:$.a}),Object(C.jsx)(b.Information,{title:"Transaction Fee",description:gt.toCurrencyFormat(),tooltip:$.c}),Object(C.jsx)(b.Information,{title:"Affiliate Fee",description:"".concat(null!==(t=Yt.toSignificant(4))&&void 0!==t?t:""," ").concat(n.name.toUpperCase()),tooltip:n.isBTC()||n.isLTC()?"There is currenly no affiliate fee for BTC or LTC transactions.":"Transaction fee of ".concat((100*v.b).toFixed(0),"% used to pay affiliates and fund BuyThorchain.com development.")}),Object(C.jsx)(b.Information,{title:"Network Fee",description:null!==(e=null===yt||void 0===yt?void 0:yt.toCurrencyFormat())&&void 0!==e?e:"",tooltip:"Thorchain network fee used to pay outbound transaction"}),Object(C.jsx)(b.Information,{title:"Total",description:null!==(i=Zt.toCurrencyFormat(2))&&void 0!==i?i:"",tooltip:"Sum of both transaction fee and network fee"})]})}),[It,ne,n,r,qt,re,ye,ie,gt,yt,Yt,te,Zt]),we=Object(l.useMemo)((function(){return Object(C.jsxs)(at,{children:[Object(C.jsx)(k,{startAnimation:z}),Object(C.jsx)(b.RuneButton,{sizevalue:"big",round:!0,fixedWidth:!1,onClick:X,onMouseEnter:function(){return J(!0)},onMouseLeave:function(){return J(!1)},children:"connect a wallet"}),Object(C.jsxs)(Y,{href:"https://www.xdefi.io/",children:["no wallet? set one up",">"]})]})}),[X,z]),Ce=Object(l.useMemo)((function(){return Object(C.jsxs)(et,{children:[Object(C.jsx)(b.Information,{title:"Approve ".concat(n.name.toUpperCase()),description:""}),Object(C.jsx)(b.Information,{title:"Transaction Fee",description:gt.toCurrencyFormat(),tooltip:$.c})]})}),[gt,n]),ke=Object(l.useMemo)((function(){return"Swap ".concat(n.name," >> ").concat(r.name)}),[n,r]),Se=Object(l.useMemo)((function(){return n.isRUNE()?r:n}),[n,r]);return G?Object(C.jsx)(C.Fragment,{children:Object(C.jsxs)(K,{meta:ke,poolAsset:Se,type:"swap",children:[Object(C.jsxs)(st,{children:[Object(C.jsx)(b.AssetInputCard,{title:"from",asset:n,assets:St,amount:It,balance:se,onChange:pe,onSelect:ue,onMax:be,usdPrice:ae,wallet:d||void 0}),Object(C.jsx)(lt,{children:Object(C.jsx)(b.Slider,{value:Pt,onChange:fe,withLabel:!0})})]}),Object(C.jsx)(Q,{children:Object(C.jsx)(Z,{children:Object(C.jsx)(b.IconButton,{onClick:de})})}),Object(C.jsxs)(ut,{children:[Object(C.jsx)(b.AssetInputCard,{title:"to",asset:r,assets:St,amount:ne,onSelect:le,inputProps:{disabled:!0},usdPrice:oe,wallet:d||void 0,off:!0}),Object(C.jsx)(nt,{children:Object(C.jsx)(b.AddressSelectCard,{title:"address",address:qt,chain:r.L1Chain,chainAddr:Et,onAddressChange:Vt})})]}),Object(C.jsx)(rt,{children:Object(C.jsx)(b.Information,{title:"Total Fee",description:null!==(e=null===Zt||void 0===Zt?void 0:Zt.toCurrencyFormat(2))&&void 0!==e?e:"",tooltip:"Sum of both transaction fee and network fee"})}),null!==jt&&d&&Object(C.jsxs)(tt,{children:[!jt&&Object(C.jsx)(it,{onClick:he,error:!ge.valid,disabled:Ot===F.b.Pending||Ot===F.b.Submitting,loading:Ot===F.b.Pending||Ot===F.b.Submitting,children:"Approve"}),At?Object(C.jsx)(b.FancyButton,{disabled:!jt,onClick:ve,error:!ge.valid,children:xe}):Object(C.jsx)(b.FancyButton,{onClick:X,children:xe})]}),!d&&Object(C.jsx)(tt,{children:Object(C.jsx)(b.FancyButton,{onClick:ve,error:!ge.valid,children:xe})}),Object(C.jsx)(b.ConfirmModal,{visible:zt,onOk:me,onCancel:je,inputAssets:[n],children:Ae}),Object(C.jsx)(b.ConfirmModal,{visible:Kt,onOk:Oe,onCancel:function(){return Qt(!1)},inputAssets:[n],children:Ce})]})}):we},pt=function(){var t=P();Object(l.useEffect)((function(){if(t&&null===Object(W.a)()){var e=t.filter((function(t){return B.a.validateAddress({chain:f.l.THORChain,address:t})}));Object(W.g)(e)}}),[t]);var e=Object(p.h)().pair,n=Object(l.useState)(),r=Object(u.a)(n,2),i=r[0],a=r[1];if(e&&""!==e||(e="BTC.BTC_THOR.RUNE"),Object(l.useEffect)((function(){(function(){var t=Object(s.a)(c.a.mark((function t(){var n;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ot(e);case 2:(n=t.sent)&&a(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e]),i){var o=i.inputAsset,d=i.outputAsset;return Object(C.jsx)(dt,{inputAsset:o,outputAsset:d})}return null};e.default=pt}}]);
//# sourceMappingURL=0.76a301f3.chunk.js.map